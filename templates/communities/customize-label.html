{% extends 'account-base.html' %} {% block title %} Customize {% endblock %}{% load static %} {% block community_content %}

<div class="content-card-v2 content-card-space">
    <div class="w-70">
        <h2 class="mt-0">Customize a Label</h2>
        <p>Now that you have selected a Label to customize this Label will now sit in this bucket where you can store all of the Labels your account customizes. The Label is currently faded to indicate there is still some work to do to customize and make this Label your own. </p>
        <strong>How this process works:</strong>
        <ol>
            <li>Select a Label to Customize</li>
            <li>Customize the template text and add a Label title.</li>
            <li>Get another member in your community to approve the new template text and title.</li>
            <li>Start applying these Labels to Projects involving traditional knowledge.</li>
        </ol> 
    </div>
</div>

<div class="content-card-v2 content-card-space">
    <h3 class="mt-0">Step 1. Select a Label to customize</h3>
    <div class="margin-bottom-16 margin-top-16 w-100 about-this-label">    
        <div class="flex-this ml-16 mr-16 pointer-event-none">

            <div id="target-img-div" class="margin-top-16">
                <img
                    loading="lazy"
                    {% if label_code == 'bcr' %}
                        id="bcr" 
                        src="{% static 'images/bc-labels/bc-research-use.png' %}"  
                        alt="BC Research Use Label icon. Black tag shape with four rectangles inside two concentric circles. On left side are three white dots." 
                    {% endif %}
                    {% if label_code == 'bccv' %}
                        id="bccv" 
                        src="{% static 'images/bc-labels/bc-consent-verified.png' %}" 
                        alt="BC Consent Verified Label icon. Black tag shape with a white checkmark in center. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bcoc' %}
                        id="bcoc" 
                        src="{% static 'images/bc-labels/bc-open-to-commercialization.png' %}" 
                        alt="BC Open to Commercialization Label icon. Black tag shape with a white dollar sign in center. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bccb' %}
                        id="bccb" 
                        src="{% static 'images/bc-labels/bc-open-to-collaboration.png' %}" 
                        alt="BC Open to Collaboration Label icon. Black tag shape with three white overlapping figures in center made up of hexagons on bottom and circles on top. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bcmc' %}
                        id="bcmc" 
                        src="{% static 'images/bc-labels/bc-multiple-community.png' %}" 
                        alt="BC Multiple Communities Label icon. Black tag shape with four white over-under woven patchworks arranged in a 2x2 square. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bcp' %}
                        id="bcp" 
                        src="{% static 'images/bc-labels/bc-provenance.png' %}" 
                        alt="BC Provenance Label icon. Black tag shape with six perpendicular white lines of increasing width. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bccl' %}
                        id="bccl" 
                        src="{% static 'images/bc-labels/bc-clan.png' %}" 
                        alt="BC Clan Label icon. Black tag shape with a circle made of small white dots in center. On left side are three larger white dots."
                    {% endif %}
                    {% if label_code == 'bco' %}
                        id="bco" 
                        src="{% static 'images/bc-labels/bc-outreach.png' %}" 
                        alt="BC Outreach Label icon. Black tag shape with a white hand that has two dots stretching outward from each finger. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bccnv' %}
                        id="bccnv" 
                        src="{% static 'images/bc-labels/bc-consent-non-verified.png' %}" 
                        alt="BC Consent Non-Verified Label icon. Black tag shape with a white checkmark and a diagonal line through it in the center. On left side are three white dots."
                    {% endif %}
                    {% if label_code == 'bcnc' %}
                        id="bcnc" 
                        src="{% static 'images/bc-labels/bc-non-commercial.png' %}" 
                        alt="BC Non-Commercial Label icon. Black tag shape with a white dollar sign and a diagonal line through it in center. On left side are three white dots."
                    {% endif %}

                    {% if label_code == 'tka' %}
                        id="tka" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-attribution.png' %}" 
                        alt="TK Attribution Label icon. Black tag shape with two stacked white arrows, one pointing left and one pointing right."
                    {% endif %}
                    {% if label_code == 'tkcl' %}
                        id="tkcl" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-clan.png' %}" 
                        alt="TK Clan Label icon. Black tag shape with a circle made of small white dots in the center."
                    {% endif %}
                    {% if label_code == 'tkf' %}
                        id="tkf" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-family.png' %}" 
                        alt="TK Family Label icon. Black tag shape with a circle made of alternating small and big white dots in the center."
                    {% endif %}
                    {% if label_code == 'tkmc' %}
                        id="tkmc" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-multiple-community.png' %}" 
                        alt="TK Multiple Communities Label icon. Black tag shape with four white over-under woven patchworks arranged in a 2x2 square."
                    {% endif %}
                    {% if label_code == 'tko' %}
                        id="tko" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-outreach.png' %}" 
                        alt="TK Outreach Label icon. Black tag shape with a white hand that has two dots stretching outward from each finger."
                    {% endif %}
                    {% if label_code == 'tknv' %}
                        id="tknv" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-non-verified.png' %}" 
                        alt="TK Non-Verified Label icon. Black tag shape with a white checkmark and diagonal line through it in center."
                    {% endif %}
                    {% if label_code == 'tkv' %}
                        id="tkv" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-verified.png' %}" 
                        alt="TK Verified Label icon. Black tag shape with a white checkmark in center."
                    {% endif %}
                    {% if label_code == 'tknc' %}
                        id="tknc" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-non-commercial.png' %}" 
                        alt="TK Non-Commercial Label icon. Black tag shape with a white dollar sign and a diagonal line through it in center."
                    {% endif %}
                    {% if label_code == 'tkoc' %}
                        id="tkoc" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-commercial.png' %}" 
                        alt="TK Open to Commercialization Label icon. Black tag shape with a white dollar sign in center."
                    {% endif %}
                    {% if label_code == 'tkcs' %}
                        id="tkcs" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-culturally-sensitive.png' %}" 
                        alt="TK Culturally Sensitive Label icon. Black tag shape with four hands in a circle surrounding a white cube."
                    {% endif %}
                    {% if label_code == 'tkcv' %}
                        id="tkcv" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-community-voice.png' %}" 
                        alt="TK Community Voice Label icon. Black tag shape with three different sized human figures in white and dialogue bubbles that overlap." 
                    {% endif %}
                    {% if label_code == 'tkco' %}
                        id="tkco" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-community-use-only.png' %}" 
                        alt="TK Community Use Only Label icon. Black tag shape with four criss-crossed white lines in center."
                    {% endif %}
                    {% if label_code == 'tks' %}
                        id="tks" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-seasonal.png' %}" 
                        alt="TK Seasonal Label icon. Black background with simple illustrations of a tree with bare branches and another tree with a circle representing leaves."
                    {% endif %}
                    {% if label_code == 'tkwg' %}
                        id="tkwg" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-women-general.png' %}" 
                        alt="TK Women General Label icon. Black tag shape with a white figure made up of a triangle on bottom and circle on top."
                    {% endif %}
                    {% if label_code == 'tkmg' %}
                        id="tkmg" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-men-general.png' %}" 
                        alt="TK Men General Label icon. Black tag shape with a white figure made up of a square on bottom and circle on top."
                    {% endif %}
                    {% if label_code == 'tkmr' %}
                        id="tkmr" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-men-restricted.png' %}" 
                        alt="TK Men Restricted Label icon. Black tag shape with two white figures made up of two squares on bottom and two circles on top with a double-sided arrow connecting both figures."
                    {% endif %}
                    {% if label_code == 'tkwr' %}
                        id="tkwr" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-women-restricted.png' %}" 
                        alt="TK Women Restricted Label icon. Black tag shape with two white figures made up of two triangles on bottom and two circles on top with a double-sided arrow connecting both figures."
                    {% endif %}
                    {% if label_code == 'tkss' %}
                        id="tkss" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-secret-sacred.png' %}" 
                        alt="TK Secret / Sacred Label icon. Black tag shape with a large white cube in center."
                    {% endif %}
                    {% if label_code == 'tkcb' %}
                        id="tkcb" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-open-to-collaboration.png' %}" 
                        alt="TK Open to Collaboration Label icon. Black tag shape with three white overlapping figures in center made up of hexagons on bottom and circles on top."
                    {% endif %}
                    {% if label_code == 'tkcr' %}
                        id="tkcr" 
                        class="label-large" 
                        src="{% static 'images/tk-labels/tk-creative.png' %}" 
                        alt="TK Creative Label icon. Black tag shape with a white circle made up of eight small dots on one half, a solid line on the other half, and each half bifurcated with two bigger dots."
                    {% endif %}
                >
            </div>

            <div class="ml-16 w-70">
                <p id="labelNamePTag" class="bold"></p>
                <small class="bold">Why Use This Label?</small>
                <p id="whyUseText"></p>
            </div>

        </div>
    </div>
</div>

<div class="content-card-v2 content-card-space">

    <div class="flex-this column border-bottom-solid-teal">
        <form id="saveLabelForm" method="POST" action="" enctype="multipart/form-data">
            {% csrf_token %}
            <div>
                <h3 class="mt-0 mb-0">Step 2. Customize Label</h3>
                <p class="w-80">You can edit the Label template text, and add a local name that reflects your community alongside the Label name.</p>
            </div>
            <div>
                <input id="input-label-name" type="hidden" value="" name="input-label-name">

                <div class="w-30 margin-bottom-16">
                    <label>Label name</label>
                    {{ form.name }}
                </div>

                {% if form.name.errors %}
                    <div class="msg-red w-50"><small>{{ form.name.errors.as_text }}</small></div> 
                {% endif %}

                <div class="w-30 margin-bottom-16">
                    <div class="flex-this">
                        <label class='block'>Label Language <small>(select from dropdown)</small></label>
                        <div class="tooltip" style="margin-top: 5px; margin-left: 5px;"><strong>i</strong>
                            <span class="tooltiptext">
                                Select the language for this Label. English,<br> MƒÅori, French, and Spanish translations <br>of the Label name and template text will be <br>loaded if selected. Can't find the language <br>you are looking for? <br> Please contact us: support@localcontexts.org
                            </span>
                        </div>                          
                    </div>

                    <div class="autocomplete flex-this align-center" style="display:flex;">
                        {{ form.language }}
                        <button name="clear-language-btn" class="primary-btn white-btn ml-16 hide" style="min-height:40px;">Clear<i class="fa-regular fa-eraser"></i></button>
                    </div>
                    
                </div>

                {% if form.language.errors %}
                    <div class="msg-red w-50"><small>{{ form.language.errors.as_text }}</small></div> 
                {% endif %}

                <div class="w-80">
                    <label for="label_text">Label text</label>
                    <div class="tooltip" style="margin-left: 5px;"><strong>i</strong>
                        <span class="tooltiptext">
                            Providing personal information is optional. By providing it, you consent for it to be shown to other Hub users and wherever this Label is applied. 
                            <a href="https://localcontexts.org/privacy-policy/" class="white-text underline-hover" target="_blank" rel="noopener">Privacy Policy <i class="fa-solid fa-arrow-up-right-from-square fa-xs"></i></a>.
                        </span>
                    </div> 
                    <div id="languageError" class="msg-red w-50 font-size-14" style="display:none;"></div>
                    {{ form.label_text }}
                </div>

                {% if form.label_text.errors %}
                    <div class="msg-red w-50"><small>{{ form.label_text.errors.as_text }}</small></div> 
                {% endif %}

                <label>Label Audio File</label>

                <div class="flex-this">
                    <div class="mr-8">
                        <div class="hide">{{ form.audiofile }}</div>
                        <button id="customLabelAudioFileUploadBtn" class="primary-btn green-btn">Upload audio file <i class="fa-solid fa-upload"></i></button>
                    </div>   
                    <div>
                        <button id="clearAudiofileOnCustomizeBtn" class="primary-btn white-btn hide">Clear audio file <i class="fa-regular fa-eraser"></i></button>
                    </div>                 
                </div>

                {% if form.audiofile.errors %}
                    <div class="msg-red w-50"><small>{{ form.audiofile.errors.as_text }}</small></div> 
                {% endif %}
            </div>

            <!-- Add translation -->
            {% include 'partials/_add-translation.html' %}

            <div class="text-align-right margin-bottom-16 mt-2p flex-this align-center">
                <button id="saveLabelBtn" name="save_label_btn" class="primary-btn action-btn">Save Label</button> 
                <small id="language-error" class="red-text ml-1p hide">Please clear or select a language from the dropdown list.</small>
            </div>
        </form>
    </div>
</div>

{% endblock %}
