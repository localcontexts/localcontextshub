{% extends 'register-base.html' %} {% block title %} Create Institution {% endblock %}{% load static %} {% block card %}

<div class="flex-this column account-registration-container">
    <div class="flex-this space-between">
        <div><h2 class="mt-0 mb-8">Institution Account</h2></div>
        <div>Or <a class="default-a" href="{% url 'connect-institution' %}">request to join an existing institution</a>  </div>
    </div>

    <p class="mb-0 mt-0">
        The institution details provided below will default to a public display in the Local Contexts Registry.
        Providing your details will give consent to publicly being listed on the Registry.
        Read more about our privacy standards <a class="default-a" href="https://localcontexts.org/privacy-policy/" target="_blank" rel="noopener">here <i class="fa-solid fa-arrow-up-right-from-square fa-xs"></i></a>
    </p>

    <form id="createInstitutionForm" action="" method="POST" class="flex-this column w-100">
        {% csrf_token %}

        <div id="ror-input-container" class="mt-16">
            <label for="institution_name">Institution Name</label>
            {{ form.institution_name }}
            <div id="suggestionsContainer"></div>
            {% if form.institution_name.errors %}
                <div class="msg-red w-50"><small>{{ form.institution_name.errors.as_text }}</small></div>
            {% endif %}
        </div>
        <div>
            <p class="blue-highlight">These institutions come from <a class="default-a" href="https://ror.org/" target="_blank" rel="noopener">ROR <i class="fa-regular fa-arrow-up-right-from-square fa-2xs"></i></a>. If your institution is not listed here, <a href="{% url 'create-custom-institution' %}" class="default-a">fill out this form</a>.</p>
        </div>


        <div class="w-100 flex-this">
            <div class="w-50 mr-1p">
                <label class="pad-top-1-5" for="city_town">Town or City</label><br>
                {{ form.city_town }}
            </div>

            <div class="w-50">
                <label for="state_province_region">State, Province, or Region</label><br>
                {{ form.state_province_region }}
            </div>
        </div>

        <div class="mt-8">
            <label class="pad-top-1-5" for="country">Country</label><br>
            {{ form.country }}                
        </div>

        <div class="mt-8">
            <label>Institution Website</label>
            {{ form.website }}
            {% if form.website.errors %}
                <div class="msg-red w-50"><small>{{ form.website.errors.as_text }}</small></div>
            {% endif %}
        </div>

        <div class="w-100">
            <div class="pad-top-1-5">
                <label for="description">Institution Description</label>
                <div class="tooltip">i
                    <span class="tooltiptext">An institution description allows you to share key public information about your institution or organization with other users on the Hub.</span>
                </div>

                <br>
                {{ form.description }}

                {% if form.description.errors %}
                    <div class="msg-red w-50"><small>{{ form.description.errors.as_text }}</small></div>
                {% endif %}
            </div>
            <small id="charCount" class="block text-align-right">200/200</small>
        </div>

        <h2 class="mb-0">Institutional contact</h2>
        <p>
            A <a class="default-a" href="https://localcontexts.org/members-subscribers-and-service-providers/" target="_blank" rel="noopener">subscription program</a>
            for institution accounts will be launched in October 2024. 
            After you submit this form, we will reach out to you, and any institutional contact 
            you indicate below, to discuss which subscription tier is best for your organization.
        </p>

        <div class="flex-this space-between mb-16">
            <div class="mr-8 w-100">
                <label for="contact_name">
                    Contact name
                </label>
                {{ form.contact_name }}<br>
                {% if form.contact_name.errors %}
                    <div class="msg-red w-50"><small>{{ form.contact_name.errors.as_text }}</small></div> 
                {% endif %}
            </div>
    
            <div class="w-100">
                <label for="contact_email">
                    Contact email
                </label>
                {{ form.contact_email }} <br>
                {% if form.contact_email.errors %}
                    <div class="msg-red w-50"><small>{{ form.contact_email.errors.as_text }}</small></div> 
                {% endif %}
            </div>
        </div>

        <div class="flex-this flex-end mt-8">
           
            
            {{ form.ror_id }}
            <div class="flex-this creat-account__container-width__buttons">
                <div class="mr-8">
                    <button id="clearFormBtn" class="primary-btn white-btn btn-width__clear-form mt-2p">Clear form <i class="fa-regular fa-eraser"></i></button>
                </div>
                <div>
                    <button id="createInstitutionBtn" class="primary-btn disabled-btn mt-2p" name="create-institution-btn" disabled>Continue <i class="fa fa-arrow-right"></i></button>
                </div>                
            </div>
        </div>

    </form>

</div>

{% endblock %}