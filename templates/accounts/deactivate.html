{% extends 'settings-base.html' %}{% load static %}

{% block settings %}
<form id="deactivateUserForm" method="POST">

    <div class="flex-this column w-80   margin-right-1">
        <div><h3>Deactivate Your Profile</h3></div>

        <div class="w-70 margin-bottom-2">
            <p class="no-top-margin">
                {% if user_role == 'is_creator' %}
                    It looks like you are the main administrator of an account.
                    Please email us at
                    <a href="mailto:support@localcontexts.org">support@localcontexts.org</a>
                    for deactivation assistance.
                {% elif user_role == 'is_member' %}
                    It looks like you're a member of an account. Before you can deactivate your user profile,
                    you need to leave each account (see Accounts in this settings menu).
                {% else %}
                   Please note that you will not be able to sign-in after deactivation.
                   Your profile and its associated data will be deleted 30 days after deactivation
                {% endif %}
            </p>
            {% csrf_token %}
            <button id="submitDeactivation" class="primary-btn white-btn
                {% if user_role != 'default' %}disabled-btn pointer-event-none{% endif %}">
                Deactivate Profile
            </button>
        </div>
    </div>

    <div id="deactivationModal" class="modal hide">

        <div class="modal-defaults deactivate-modal flex-this column w-100">
            <div class="w-100">
    
                <div>
                    <h2 class="primary-black-text no-top-margin">Are you sure?</h2>  
                    <p>Are you sure you want to deactivate your profile? <br><br>
                        This cannot be undone and you will be automatically logged out. <br></p>  
                </div>
                <div class="flex-this w-100 text-align-center">
                    <div id="continueDeactivationBtn" class="primary-btn white-btn margin-right-1">Yes, deactivate my profile</div>    
                    <div id="closeDeactivationModal" class="margin-left-1 primary-btn action-btn">Cancel</div>
                </div>
    
            </div>
        </div>
    </div>
</form>

{% endblock %}